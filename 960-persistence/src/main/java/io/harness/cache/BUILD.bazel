load("@rules_java//java:defs.bzl", "java_library")

java_library(
    name = "cache",
    srcs = [
        "CacheBackend.java",
        "CacheConfig.java",
        "CacheEntity.java",
        "CacheModule.java",
        "GuiceCacheResolverFactory.java",
        "HarnessCacheManager.java",
        "HarnessCacheManagerImpl.java",
        "MongoStore.java",
        "NoOpCache.java",
        "NoOpHarnessCacheManager.java",
        "SpringCacheEntity.java",
        "SpringMongoStore.java",
        "VersionedCache.java",
        "VersionedCacheConfigurationWrapper.java",
        "VersionedCacheEntryEventWrapper.java",
        "VersionedCacheEntryListener.java",
        "VersionedEntryProcessor.java",
        "VersionedKey.java",
    ],
    visibility = ["//:__subpackages__"],
    deps = [
        "//960-persistence/src/main/java/io/harness/mongo/index",
        "//960-persistence/src/main/java/io/harness/persistence",
        "//960-persistence/src/main/java/io/harness/redis",
        "//960-persistence/src/main/java/io/harness/springdata",
        "//980-commons/src/main/java/io/harness/data/structure",
        "//980-commons/src/main/java/io/harness/govern",
        "//999-annotations/src/main/java/io/harness/annotations/dev",
        "@maven//:com_google_guava_guava",
        "@maven//:com_google_inject_guice",
        "@maven//:javax_cache_cache_api",
        "@maven//:org_jsr107_ri_cache_annotations_ri_common",
        "@maven//:org_jsr107_ri_cache_annotations_ri_guice",
        "@maven//:org_mongodb_morphia_morphia",
        "@maven//:org_projectlombok_lombok",
        "@maven//:org_redisson_redisson",
        "@maven//:org_springframework_data_spring_data_commons",
        "@maven//:org_springframework_data_spring_data_mongodb",
        "@maven//:org_springframework_spring_tx",
    ],
)
